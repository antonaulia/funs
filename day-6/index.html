<script>
    var namatambahan = ''
    var hargatambahan = ''

    function tambahmenu() {
        namatambahan = prompt('input nama menu baru ')
        if (item.includes(namatambahan) == true) {
            alert('menu yg ingin ditambah sudah terdaftar ')
            return
        }
        do {
            hargatambahan = parseInt(prompt('input harga dari menu tsb '))
            if (isNaN(hargatambahan == true)) {
                alert('harga hanya angka ')
            }
        } while (isNaN(hargatambahan) == true)
        item.push(namatambahan)
        harga.push(hargatambahan)
        menustring = ''
        for (i = 0; i < item.length; i++) {
            menustring += i + 1 + '. ' + item[i] + ' Rp.' + harga[i] + '\n'
        }
        alert(menustring)
    }

    function hapusmenu() {
        do {
            menustring = ''
            for (i = 0; i < item.length; i++) {
                menustring += i + 1 + '. ' + item[i] + ' Rp.' + harga[i] + '\n'
            }
            x = prompt(menustring + '\n input nama menu yg ingin dihapus :')
            if (x == null) {
                return
            } else if (item.includes(x) == false) {
                alert('menu yg ingin dihapus tidak ada di daftar ')
            }
        } while (item.includes(x) == false)
        harga.splice(item.indexOf(x), 1)
        item.splice(item.indexOf(x), 1)
        menustring = ''
        for (i = 0; i < item.length; i++) {
            menustring += (i + 1) + '. ' + item[i] + ' Rp.' + harga[i] + '\n'
        }
        alert(menustring)
    }

    function tampilmenu() {
        menustring = ''
        for (i = 0; i < item.length; i++) {
            menustring += i + 1 + '. ' + item[i] + ' Rp.' + harga[i] + '\n'
        }
        console.log(menustring)
        alert(menustring)
    }


    function goshop() {
        menustring = ''
        for (i = 0; i < item.length; i++) {
            menustring += i + 1 + '. ' + item[i] + ' Rp.' + harga[i] + '\n'
        }
        itembelanja = prompt(menustring + '\npilih item belanjaan anda  1 - '+item.length)
        if (itembelanja>item.length){
            alert('barang belanjaan tidak tersedia')
            return
        }
        qtybelanja = parseInt(prompt('berapa jumlah ' + item[itembelanja - 1] + 'yg anda inginkan'))
        if (isNaN(qtybelanja)==true){
            alert('masukan jumlah hanya angka !')
            return
        }

        arritembelanja.push(item[itembelanja - 1])
        arrhargabelanja.push(harga[itembelanja - 1])
        arrqtybelanja.push(qtybelanja)

        belanjastring = ''
        for (i = 0; i < arritembelanja.length; i++) {
            belanjastring += (i + 1) + '.' + arritembelanja[i] + '------' + arrqtybelanja[i] + '==' + (arrhargabelanja[
                i] * arrqtybelanja[i]) + '\n'
        }
        alert(belanjastring)
    }


    function showcart() {
        belanjastring = ''
        hargatot = 0
        for (i = 0; i < arritembelanja.length; i++) {
            belanjastring += (i + 1) + '.' + arritembelanja[i] + '------' + arrqtybelanja[i] + '==' + (arrhargabelanja[
                i] * arrqtybelanja[i]) + '\n'
            hargatot += arrhargabelanja[i] * arrqtybelanja[i]
        }
        alert(belanjastring + '\n' + hargatot)

    }

    function checkout() {
        belanjastring = ''
        hargatot = 0
        for (i = 0; i < arritembelanja.length; i++) {
            belanjastring += (i + 1) + '.' + arritembelanja[i] + '------' + arrqtybelanja[i] + '==' + (arrhargabelanja[
                i] * arrqtybelanja[i]) + '\n'
            hargatot += arrhargabelanja[i] * arrqtybelanja[i]
        }
        bayar = prompt(belanjastring + '\n' + hargatot + '\n' + 'berapa jumlah pembayaran anda ?')
        if (bayar >= hargatot) {
            arrhargabelanja = []
            arritembelanja = []
            arrqtybelanja = []
            alert('kembalian anda Rp. '+(bayar-hargatot))
        } else {
            alert('uang tidak cukup, cek keranjang anda')
        }
    }



    var arrhargabelanja = []
    var arritembelanja = []
    var arrqtybelanja = []
    var belanjastring = ''
    var hargatot
    var belanjastring = ''
    var arrqtybelanja = []
    var arritembelanja = []
    var imainmenu
    var menustring = ''
    var x = ''
    var harga = [10000, 20000, 30000]
    var item = ['jeruk', 'kiwi', 'apel']
    var mainmenu = Number
    var usermenu

    do {
        mainmenu = parseInt(prompt('1. Admin\n2. User\n3. Exit'))
        if (mainmenu == 1) {
            do {
                var adminmenu = parseInt(prompt(
                    '1. tampilkan item \n2. tambah item\n3.hapus item \n4.logout'))
                iadminmenu = true
                if (adminmenu == 1) {
                    tampilmenu()
                } else if (adminmenu == 2) {
                    tambahmenu()
                } else if (adminmenu == 3) {
                    hapusmenu()
                } else if (adminmenu == 4) {
                    imainmenu = true
                    iadminmenu = false
                    break
                } else {
                    imainmenu = true
                    iadminmenu = false
                    break
                }
            } while (iadminmenu)
        } else if (mainmenu == 2) {
            do {
                usermenu = parseInt(prompt(
                    '1. belanja\n2. lihat keranjang\n3. Pembayaran\n4. logout/back to main menu \n'))
                iusermenu = true
                if (usermenu == 1) {
                    goshop()
                } else if (usermenu == 2) {
                    showcart()
                } else if (usermenu == 3) {
                    checkout()
                } else if (usermenu == 4) {
                    iusermenu = false
                    imainmenu = true
                    break
                }
            } while (iusermenu)
        } else {
            break
        }

    } while (imainmenu)
</script>